(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}})();const u={etherscan:!0,blockscout:!0,debank:!0},i="settings:explorers";async function a(){return(await chrome.storage.sync.get(i))[i]||u}async function d(t){await chrome.storage.sync.set({[i]:t})}async function l(){await g(),f(),y()}async function g(){const t=await a(),o=document.getElementById("toggle-etherscan"),s=document.getElementById("toggle-blockscout"),r=document.getElementById("toggle-debank");o&&(o.checked=t.etherscan),s&&(s.checked=t.blockscout),r&&(r.checked=t.debank)}function f(){document.querySelectorAll('input[type="checkbox"][data-explorer]').forEach(o=>{o.addEventListener("change",async s=>{const r=s.target,e=r.dataset.explorer;if(!e)return;const n=await a();n[e]=r.checked,await d(n),await m()})})}async function m(){const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t?.id&&chrome.tabs.sendMessage(t.id,{type:"SETTINGS_UPDATED"}).catch(()=>{})}function y(){const t=document.getElementById("version"),o=chrome.runtime.getManifest().version;t&&(t.textContent=`v${o}`)}document.addEventListener("DOMContentLoaded",()=>{l()});
