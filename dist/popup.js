(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function c(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(e){if(e.ep)return;e.ep=!0;const n=c(e);fetch(e.href,n)}})();const i={etherscan:!0,blockscout:!0,debank:!0},a="settings:explorers";async function u(){try{return chrome.runtime?.id&&(await chrome.storage.sync.get(a))[a]||i}catch{return i}}async function d(t){try{if(!chrome.runtime?.id)return;await chrome.storage.sync.set({[a]:t})}catch{}}async function l(){await f(),g(),y()}async function f(){const t=await u(),r=document.getElementById("toggle-etherscan"),c=document.getElementById("toggle-blockscout"),o=document.getElementById("toggle-debank");r&&(r.checked=t.etherscan),c&&(c.checked=t.blockscout),o&&(o.checked=t.debank)}function g(){document.querySelectorAll('input[type="checkbox"][data-explorer]').forEach(r=>{r.addEventListener("change",async c=>{const o=c.target,e=o.dataset.explorer;if(!e)return;const n=await u();n[e]=o.checked,await d(n),await m()})})}async function m(){const[t]=await chrome.tabs.query({active:!0,currentWindow:!0});t?.id&&chrome.tabs.sendMessage(t.id,{type:"SETTINGS_UPDATED"}).catch(()=>{})}function y(){const t=document.getElementById("version"),r=chrome.runtime.getManifest().version;t&&(t.textContent=`v${r}`)}document.addEventListener("DOMContentLoaded",()=>{l()});
